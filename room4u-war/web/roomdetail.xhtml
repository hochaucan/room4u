<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./template/Room4uTemplate.xhtml">

            <ui:define name="title">
                Chi Tiết Phòng
            </ui:define>

            <ui:define name="content">

                <!--Room Image Slider Nivo-->
                <div class="row" style="margin-top: 0px">
                    <div class="slider-wrapper col-md-12">
                        <div id="slider" class="nivoSlider"> 
                            <img src="./resources/images/upload/toystory.jpg" data-thumb="./resources/images/upload/toystory.jpg" alt="" /> 
                            <a href="http://dev7studios.com"><img src="./resources/images/upload/up.jpg" data-thumb="./resources/images/upload/up.jpg" alt="" title="This is an example of a caption" />
                            </a> <img src="./resources/images/upload/walle.jpg" data-thumb="./resources/images/upload/walle.jpg" alt="" data-transition="slideInLeft" />
                            <img src="./resources/images/upload/nemo.jpg" data-thumb="./resources/images/upload/nemo.jpg" alt="" title="#htmlcaption" />
                        </div>

                        <!--<div id="htmlcaption" class="nivo-html-caption"> <strong>This</strong> is an example of a <em>HTML</em> caption with <a href="#">a link</a>. </div>-->
                    </div>
                </div>

                <!--Room Slider Carousel-->
                <div id="myCarousel" class="carousel slide  panel"  data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>

                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <h:graphicImage value="/images/#{landlord.slider1}" />
                        </div>

                        <div class="item">
                            <h:graphicImage value="/images/#{landlord.slider2}" />
                        </div>

                        <div class="item">
                            <h:graphicImage value="/images/#{landlord.slider3}" />
                        </div>
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

                <!--Room description-->
                <div class="row">
                    <div class="col-md-12 col-xs-12" >
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <span class="glyphicon glyphicon-hand-right"></span>
                                Chi tiết phòng</div>
                            <div class="panel-body">

                                <div class="row">
                                    <div class="col-md-3 col-xs-12">
                                        <label class="col-md-4 col-xs-4" style="padding: 0px;width:75px">Đánh giá</label> 
                                        <h:form id="frmRoomRating">
                                            <div class="Clear col-md-8 col-xs-8">

                                                <input class="auto-submit-star" type="radio" name="test-3A-rating-1" value="1" />
                                                <input class="auto-submit-star" type="radio" name="test-3A-rating-1" value="2" />
                                                <input class="auto-submit-star" type="radio" name="test-3A-rating-1" value="3"/>
                                                <input class="auto-submit-star" type="radio" name="test-3A-rating-1" value="4"/>
                                                <input class="auto-submit-star" type="radio" name="test-3A-rating-1" value="5"/>
                                            </div>
                                            <h:inputText id="roomRatingSelected" value="#{landlord.roomRatingSelected}" style="display: none"/>
                                            <h:inputText id="displayRate" value="#{landlord.displayRate}" style="display: none"/>
                                            <h:commandButton id="btnBookRating" style="display: none">
                                                <f:ajax execute="@form" listener="#{landlord.roomRating()}" />
                                            </h:commandButton>
                                        </h:form>
                                    </div>
                                    <div class="col-md-4 col-xs-12 roomdetai_info">
                                        <span class="col-md-2">
                                            <img src="resources/images/person.png" title="Số người" alt=""/>
                                            #{landlord.curAccom.noOfPersons}
                                        </span>
                                        <span class="col-md-2">
                                            <img src="resources/images/bed.png" title="Số giường" alt=""/>
                                            #{landlord.curAccom.noOfBed}
                                        </span>
                                        <span class="col-md-2">
                                            <img  src="resources/images/toilet.png" title="Toilet" alt=""/>
                                            #{landlord.curAccom.noOfToilet}
                                        </span>
                                        <span class="col-md-2">
                                            <img  src="resources/images/comment.png" title="Nhận xét" alt=""/>
                                            #{landlord.commentsCount}
                                        </span>

                                    </div>
                                    <div class="col-md-5">
                                        Giá:  <span  class="roomdetail_price" style="font-weight: bold;color:#2196f3">  #{landlord.curAccom.price} </span> đồng/ngày
                                        <span  class="roomdetail_price_number" style="display: none">  #{landlord.curAccom.price}</span>
                                    </div>
                                </div>
                                <h:form id="frmBookRoom">
                                    <div class="row bookRoom" >

                                        <div class='col-md-5'>
                                            <div class="form-group">
                                                <lable class="col-md-2">Từ</lable>
                                                <div class='input-group date col-md-10' id='dtpBookFrom'>
                                                    <h:inputText id="txtBookFrom" readonly="true"  class="form-control" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class='col-md-5'>
                                            <div class="form-group">
                                                <lable class="col-md-2">Đến </lable>

                                                <div class='input-group date col-md-10' id='dtpBookTo'>
                                                    <h:inputText id="txtBookTo" readonly="true"  class="form-control" />
                                                    <span class="input-group-addon">
                                                        <span class="glyphicon glyphicon-calendar"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-2">
                                            <input type="submit" class="btn btn-primary" id="btnBookRoom" value="Đặt phòng"/>
                                            <!--<h:commandButton id="btnBookRoom" value="Đặt phòng"></h:commandButton>-->
                                        </div>

                                    </div>

                                    <div class="row">
                                        <div class="col-md-12 roomdetail_cart" style="display: none">
                                            <table class="table table-responsive table-hover ">
                                                <thead>
                                                    <tr>
                                                        <th>Số TT</th>
                                                        <th>Từ ngày</th>
                                                        <th>Đến ngày</th>
                                                        <th>Thành tiền</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>

                                            </table> 
                                            <div class="col-md-12 totalRoomPrice"></div>

                                            <h:inputText id="txtBookRoomDataJson" value="#{landlord.bookRoomDataJson}" style="display: none"/>
                                            <div class="col-md-2" style="float:right">
                                                <h:commandButton class="btn btn-primary"  id="btnConfirmBookRoom" value="Xác nhận" >
                                                    <f:ajax  execute="@form"   render="txtBookRoomResult" listener="#{landlord.bookRoom()}" onevent="checkUserLoginForBookRoom"/>
                                                </h:commandButton>
                                                <h:outputText id="txtBookRoomResult" value="#{landlord.bookRoomResult}"  style="display:none"/>
                                            </div>

                                            <div class="col-md-1" style="float:right">
                                                <input type="button" id="btnRemoveAllCart" onclick="removeAllCart()" class="btn btn-default" value="Hủy" />
                                            </div>

                                        </div>


                                    </div>
                                </h:form>
                                <div class="row roomdetail_description">
                                    <strong class="col-md-12" style="margin-bottom: 15px">#{landlord.curAccom.accomName}</strong>
                                    <strong id="txtAccomAddress" class="col-md-12" style="margin-bottom: 15px">#{landlord.curAccom.address}</strong>
                                    <!--<input type="button" value="test" onclick="geocodePlaceId()"/>-->
                                    <div class="col-md-12" >
                                        <h:outputText value="#{landlord.curAccom.description}"/>
                                    </div>
                                </div>
                                <!--Distance service-->
                                <div id="output" class="col-md-12 col-xs-12 panel" style="height:auto;display: none"></div>

                            </div>


                        </div>
                    </div>
                </div>

                <!--Map and Street View-->
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        <!--Google Map-->
                        <div id="map" class=" panel"></div>
                    </div>

                    <div class="col-md-6 col-xs-12">
                        <!--Street View-->
                        <div id="street-view" class="panel" style="height:276px"></div>
                    </div>
                </div>


                <!--Comments-->

                <div class="row">
                    <div class="col-md-12 col-xs-12" >
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <span class="glyphicon glyphicon-comment"></span>
                                Bình luận</div>
                            <div class="panel-body">
                                <h:form class="form-horizontal">
                                    <!--<h:panelGroup id="refeshPostCom">-->
                                    <h:panelGroup rendered="#{customerBean.curCust == null}">
                                        <!--<div class="alert alert-dismissible alert-info">-->
                                        <!--<button type="button" class="close" data-dismiss="alert">×</button>-->
                                        <strong style="margin:20px 0"> Bạn vui lòng đăng nhập để có thể bình luận</strong>
                                        <!--</div>-->

                                    </h:panelGroup>
                                    <ui:repeat var="com" value="#{landlord.displayComments()}">
                                        <div class="row" style="margin-top: 20px">
                                            <div class="col-md-2" style="width: 140px">
                                                <h:graphicImage style="width: 25px;height: 25px ;border-radius: 50%" value="/images/#{com.custId.images}"/>
                                                #{com.custId.custName} : 
                                            </div>
                                            <div class="col-md-10">#{com.content}</div>
                                        </div>
                                        <h:panelGroup rendered="#{com.answer != null}">
                                            <div class="row">
                                                <div class="col-md-2" style="width: 140px"></div>

                                                <div class="col-md-3" > 
                                                    <h:graphicImage style="width: 25px;height: 25px ;border-radius: 50%" value="/images/#{com.accomId.custId.images}"/>
                                                    #{com.accomId.custId.custName}<span style="font-style: italic"> (người cho thuê)</span> : </div>
                                                <div class="col-md-7" style="font-weight: bold">#{com.answer}</div>
                                            </div>
                                        </h:panelGroup>
                                    </ui:repeat>
                                    <!--</h:panelGroup>-->
                                    <br/>
                                    <br/>

                                    <h:panelGroup rendered="#{customerBean.curCust !=null}">
                                        <div class="form-group">
                                            <label for="textArea" class="col-lg-2 control-label">Nội dung: </label>
                                            <div class="col-lg-10">
                                                <h:inputTextarea value="#{landlord.commentMessage}" class="form-control" rows="3" id="textArea"></h:inputTextarea>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-10 col-lg-offset-2" style="text-align: right">
                                                <h:commandButton action="#{landlord.createComment()}" class="btn btn-primary" value="Đăng">
                                                    <f:ajax execute="@form" render="@form"/>
                                                </h:commandButton>
                                            </div>
                                        </div>
                                    </h:panelGroup>
                                </h:form>
                            </div>
                        </div>
                    </div>
                </div>
                <!--end-comments-->
            </ui:define>
        </ui:composition>

    </body>
</html>
